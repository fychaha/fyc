# mysql的索引

### 索引是什么？

索引是一种数据结构，能帮助我们快速检索数据库中的数据。

### 索引是怎么实现的？

mysql中索引主要有两种结构：Hash索引和B+ Tree索引，而InnoDB引擎默认用的是B+Tree。

Hash索引底层是hash表，是一种键值对的数据结构，所以数据之间没有任何顺序关系，这种结构在范围查询的情况下就需要全表扫描，所以hash索引只适用于等值查询。

B+树是一种多路平衡查询树，它的节点是天然有序的（左子节点小于父节点，父节点小于右子节点），这种数据结构就适合范围查询。

### 为什么要使用索引？

- 通过创建唯一性索引，可以保证数据库表中每一行的数据的唯一性。
- 可以大大加快数据的检索速度（这也是创建索引的主要目的）
- 帮助服务器避免排序和临时表
- 将随机io变为顺序io
- 可以加速表与表之间的连接，特别是在实现数据的参考完整性方面有特别意义。

### 索引是怎么提高查询速度的？

- 将无序的数据变成有序的（就像查目录一样）。

### 怎么创建索引？

- 创建标准索引：

  ```sql
  create index 索引名 on 表名 （列名） tablespace 表空间名
  ```

- 创建唯一索引：

  ````sql
  create unique index 索引名 on 表名 （列名）tablespace 表空间名
  ````

- 创建组合索引：

  ````sql
  create index 索引名 on 表名 （列名1，列名2） tablespace 表空间名
  ````

### 索引有哪些使用原则？

- 加了索引的字段最好设置not null 约束。
- 经常与其他表字段相连接的字段加上索引。
- 经常作为查询条件的字段要创建索引。
- 一些需要频繁修改的列就不要加上索引，因为索引本身就会降低该字段的更新效率。
- 在创建联合索引的时候，把识别度高的字段放在最前面，因为mysql会遵循最左前缀匹配，会从联合索引的最左边开始匹配。当创建了（a,b,c）三个字段的联合索引，相当于创建了（a），（a，b），（a，b，c）三个索引，这就是最左匹配原则。



