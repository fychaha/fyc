#### HashMap的容量（数组长度）为什么必须是2的次幂？

2的幂次方减1的值必定全为一，这样对他进行按位与就能快速并且均匀地拿到数组的下标。

hash()方法中的(length-1) & hash得出来的结果只与hash本身有关。

  

说说hashmap的存取过程（即put和get的内部原理）。

put：结合hashmap中的putVal方法源码，







get：



hashmap的扩容（rehash）？   

当hashmap中的元素个数超过当前（加载因子*数组大小）时，为了防止发生hash碰撞，hashmap就会进行数组扩容，即将数组长度扩大为原来的两倍（比如在默认情况下，加载因子为0.75，容量为16,所以在数组元素超过12时，扩容成32）。然后就要重新就算每个元素在数组中的位置了（这就是rehash）。这个步骤的操作十分消耗性能，所以我们在用hashmap处理大数据量时，要尽量避免hashmap自己去扩容，在初始化hashmap时就给他足够的容量。







